import{k as b,c as d,l as x,f as a,T as _,a as p,b as f,r as C,o as c}from"./vue.esm-bundler-TYCfHD9-.js";import{q as $}from"./popper-KXE4JgM1.js";import{_ as E}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{_ as q}from"./toast-BcMG6CAV.js";import{V as I}from"./vitel-C_V1he1T.js";import"./index-i4XY-n0d.js";import{s as L}from"./entry-preview-DsY0GTd9.js";import"./isArrayLike-DYVE1Yub.js";import"./isObjectLike-Dipz0mOK.js";import"./isArray-Dxzbedgu.js";const w={created(o,t){let e={selector:null,items:[],prevent:!0,stop:!0,placement:"top-start",popperConfig:{},classHide:"d-none",classShow:"d-block",event:"contextmenu",context:t.instance,filter:()=>!0,before:()=>{},beforeClose:()=>{},close:()=>{},...typeof t.value=="string"?{selector:t.value}:Array.isArray(t.value)?{items:t.value}:t.value};if(t.modifiers.click&&(e.event="click"),e.selector&&e.items.length>0)throw new Error("v-menu - specifying `selector` + `items` is contradictory, choose one or the other");e.selector&&e.classHide&&b().then(()=>{let l=document.querySelector(e.selector);if(!l)throw new Error(`Unable to locate contextmenu selector "${e.selector}" - after wating one tick`);l.classList.add(e.classHide)}),o.addEventListener(e.event,async l=>{if(await e.filter.call(e.context,e.context)===!1)return;e.prevent&&l.preventDefault(),e.stop&&l.stopPropagation();let s,u=async()=>{i&&(await e.beforeClose(e.context,e.context),s.classList.add(e.classHide),s.classList.remove(e.classShow),i.destroy(),i=null,await e.close(e.context,e.context))};if(e.selector){if(s=document.querySelector(e.selector),!s)throw new Error(`Unable to locate contextmenu selector "${e.selector}"`);s.addEventListener("click",u,{once:!0})}else if(e.items)s=document.createElement("div"),s.classList.add("dropdown-menu"),e.items.filter(n=>n.show?typeof n.show=="function"?n.show.call(e.context):n.show:!0).forEach(n=>{if(n==="-"){let r=document.createElement("div");r.classList.add("dropdown-divider"),s.append(r)}else{let r=document.createElement("a");if(r.classList.add("dropdown-item"),r.icon){let y=document.createItem("i");y.classList.add(r.icon),r.prepend(y)}r.innerText=n.title,n.onClick&&r.addEventListener("click",async()=>(await u(),n.onClick.call(e.context))),s.append(r)}}),document.body.append(s);else throw new Error("Unable to determine behaviour for v-menu");await e.before(e.context,e.context),s.classList.remove(e.classHide),s.classList.add(e.classShow);let i=$(o,s,{placement:e.placement,...e.popperConfig})})}};w.__docgenInfo={exportName:"default",displayName:"v-menu",type:1,props:[{name:"key",global:!0,description:"",tags:[],required:!1,type:"PropertyKey",declarations:[],schema:{kind:"enum",type:"PropertyKey",schema:["string","number","symbol"]}},{name:"ref",global:!0,description:"",tags:[],required:!1,type:"VNodeRef",declarations:[],schema:{kind:"enum",type:"VNodeRef",schema:["string","Ref<any, any>",{kind:"event",type:"(ref: Element | ComponentPublicInstance<{}, {}, {}, {}, {}, {}, {}, {}, false, ComponentOptionsBase<any, any, any, any, any, any, any, any, any, {}, {}, string, {}, {}, {}, string, ComponentProvideOptions>, ... 4 more ..., any>, refs: Record<...>): void"}]}},{name:"ref_for",global:!0,description:"",tags:[],required:!1,type:"boolean",declarations:[],schema:{kind:"enum",type:"boolean",schema:["false","true"]}},{name:"ref_key",global:!0,description:"",tags:[],required:!1,type:"string",declarations:[],schema:"string"},{name:"class",global:!0,description:"",tags:[],required:!1,type:"unknown",declarations:[],schema:"unknown"},{name:"style",global:!0,description:"",tags:[],required:!1,type:"unknown",declarations:[],schema:"unknown"}],events:[],slots:[],exposed:[],sourceFiles:"/home/runner/work/Vitel/Vitel/directives/v-menu.vue"};const h={},D={id:"myDropdown",class:"dropdown-menu"},V={class:"card"},B={class:"card-body d-flex justify-content-between"},N={class:"btn btn-light"},P={class:"btn btn-light"},R={class:"btn btn-light"};function S(o,t,e,l,s,u){const i=C("menu");return c(),d("div",null,[(c(),x(_,{to:"body"},[a("div",D,[a("a",{onClick:t[0]||(t[0]=n=>o.$toast.success("Foo!")),class:"dropdown-item"},"Foo"),a("a",{onClick:t[1]||(t[1]=n=>o.$toast.success("Bar!")),class:"dropdown-item"},"Bar"),t[3]||(t[3]=a("div",{class:"dropdown-divider"},null,-1)),a("a",{onClick:t[2]||(t[2]=n=>o.$toast.success("Baz!")),class:"dropdown-item"},"Baz")])])),a("div",V,[a("div",B,[p((c(),d("a",N,[...t[4]||(t[4]=[f(" Right click me ",-1),a("div",{class:"text-muted"},"Selector for existing menu",-1)])])),[[i,"#myDropdown"]]),p((c(),d("a",P,[...t[5]||(t[5]=[f(" Right click me ",-1),a("div",{class:"text-muted"},"Dynamic menu contents",-1)])])),[[i,[{title:"Item #1",onClick:()=>o.$toast.success("Item #1!")},{title:"Item #2",onClick:()=>o.$toast.success("Item #2!")},"-",{title:"Item #3",onClick:()=>o.$toast.success("Item #3!")}]]]),p((c(),d("a",R,[...t[6]||(t[6]=[f(" LEFT click me ",-1),a("div",{class:"text-muted"},"Selector for existing menu",-1)])])),[[i,"#myDropdown",void 0,{click:!0}]])])])])}const T=E(h,[["render",S]]);h.__docgenInfo={exportName:"default",displayName:"v-menu.demo",type:1,props:[{name:"key",global:!0,description:"",tags:[],required:!1,type:"PropertyKey",declarations:[],schema:{kind:"enum",type:"PropertyKey",schema:["string","number","symbol"]}},{name:"ref",global:!0,description:"",tags:[],required:!1,type:"VNodeRef",declarations:[],schema:{kind:"enum",type:"VNodeRef",schema:["string","Ref<any, any>",{kind:"event",type:"(ref: Element | ComponentPublicInstance<{}, {}, {}, {}, {}, {}, {}, {}, false, ComponentOptionsBase<any, any, any, any, any, any, any, any, any, {}, {}, string, {}, {}, {}, string, ComponentProvideOptions>, ... 4 more ..., any>, refs: Record<...>): void"}]}},{name:"ref_for",global:!0,description:"",tags:[],required:!1,type:"boolean",declarations:[],schema:{kind:"enum",type:"boolean",schema:["false","true"]}},{name:"ref_key",global:!0,description:"",tags:[],required:!1,type:"string",declarations:[],schema:"string"},{name:"class",global:!0,description:"",tags:[],required:!1,type:"unknown",declarations:[],schema:"unknown"},{name:"style",global:!0,description:"",tags:[],required:!1,type:"unknown",declarations:[],schema:"unknown"}],events:[],slots:[],exposed:[],sourceFiles:"/home/runner/work/Vitel/Vitel/directives/v-menu.demo.vue"};const J={title:"Directives/v-menu",component:T,tags:["autodocs"]};L(o=>{o.use(I),o.directive("menu",w),o.service("$toast",q)});const m={args:{}};var v,g,k;m.parameters={...m.parameters,docs:{...(v=m.parameters)==null?void 0:v.docs,source:{originalSource:`{
  args: {}
}`,...(k=(g=m.parameters)==null?void 0:g.docs)==null?void 0:k.source}}};const Q=["Docs"];export{m as Docs,Q as __namedExportsOrder,J as default};
